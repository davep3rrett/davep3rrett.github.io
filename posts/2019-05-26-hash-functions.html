<!doctype html>
<html>
<head>
  <title>Dave Perrett Details His Computing Misadventures </title>
  <link rel="stylesheet" type="text/css" href="../main.min.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <meta name="description" content="Dave Perrett Details His Computing Misadventures - A Programming Blog. Dave Perrett is a developer and musician living in Brooklyn, NY.">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header>
    <a href="../index.html"><h1>Dave Perrett Details His Computing Misadventures</h1></a>
  </header>
  <div class="main-content">



<h2 id="reading-about-hash-functions">Reading about hash functions</h2>
<p>I&#39;ve finally started to feel ready to follow up on one of the promises in <a href="2018-08-16-c-hashtable-vim-preamble.html">this post</a> and get going with my project of implementing a hashtable data structure from scratch.</p>
<p>As I had gleaned earlier from my initial searches on the topic, a really important part of a hashmap is having a good <strong><em>hash function</em></strong>.</p>
<p>There&#39;s an important distinction between cryptographic hash functions used for encryption / privacy / security etc. and the noncryptographic hash functions used in hashtables. Their goals are different.</p>
<p>One of the main requirements of a hash function used in a hashtable is for it to have a <em>uniform distribution</em> of hash values. Since you ideally want collisions (multiple inputs hashing to the same value) to be low or non-existent, having as close to a uniform distribution as possible is really important so certain inputs won&#39;t have a higher likelihood of colliding than others.</p>
<p>A common strategy for dealing with collisions is to keep a linked list at the slot of a particular hash value, which contains all keys that hash to that value. It is therefore in the interest of performance for the linked lists to be kept short. </p>
<h3 id="who-s-who-in-the-world-of-hash-functions">Who&#39;s who in the world of hash functions</h3>
<p>When I started I didn&#39;t know anything about hash functions, and articles I would read about hashtables would say things like &quot;It&#39;s important to choose a good hash function.&quot; and then move on.</p>
<p>Who&#39;s coming up with these hash functions?! Are they all figured out and canonically listed out in a textbook somewhere? What&#39;s the deal?</p>
<p>After further searching I found <a href="http://www.azillionmonkeys.com/qed/hash.html">this hash function</a> by Paul Hsieh linked in <a href="https://stackoverflow.com/a/746727">this SO answer</a>.</p>
<p>In Paul&#39;s notes about benchmarking performed for his hash function, I saw the name <a href="https://burtleburtle.net/bob/">Bob Jenkins</a> come up a couple times. It seems he is &quot;the guy&quot; in this particular field, and has himself created a set of widely used noncryptographic hash functions called <a href="https://burtleburtle.net/bob/c/lookup3.c">lookup3</a>.</p>
<p>An interesting takeaway is that the field of hash functions seems to be a somewhat living field, where discoveries are still sometimes made, like prime number research or something. This contradicts the notion I held going in, that hash functions are a &quot;solved&quot; computer science problem immortalized in textbooks.</p>
<h3 id="why-was-it-so-hard-for-me-to-find-out-about-this-">Why was it so hard for me to find out about this?</h3>
<p>I may have just been searching wrong, but it really took me a while to find information about specific hash functions, how they are created, and who creates them. I found an interesting albeit slightly paranoid blog post, which supported my feeling of <em>&quot;Why does it seem like this stuff is intentionally being kept secret?&quot;</em> on a bioinformatics blog, titled <a href="https://homolog.us/blogs/bioinfo/2013/05/06/why-computer-science-professors-dislike-hash-functions/">Why Computer Science Professors Dislike Hash Functions</a>. I won&#39;t try to paraphrase the arguments here, but check it out if you&#39;re interested.</p>
<h3 id="next-steps">Next steps</h3>
<p>The reason I started searching for specifics on hash functions in the first place is that I was hoping to find a relatively simple &quot;beginner&quot; hash function in pseudocode that I could implement myself in C. Both Hsieh&#39;s SuperFastHash and Bob Jenkins&#39; hashes are much more complicated than what I was ready for. However, on Jenkins&#39; site, in his <a href="https://burtleburtle.net/bob/hash/index.html#lookup">discussion of hash functions for hash table lookup</a>, he provides the following:</p>
<blockquote>
<p>The standard reference for this is Knuth&#39;s &quot;The Art of Computer Programming&quot;, volume 3 &quot;Sorting and Searching&quot;, chapter 6.4. He recommends the hash</p>
</blockquote>
<pre><code>for (hash=len; len--;)
   {
     hash = ((hash&lt;&lt;5)^(hash&gt;&gt;27))^*key++;
   }
   hash = hash % prime;</code></pre><p>Even though Jenkins qualifies the above: &quot;Unfortunately, that hash is only mediocre.&quot;, it&#39;s more or less exactly what I was looking for, for the purpose of getting my feet wet. I&#39;m going to study Knuth&#39;s lines and see if I can&#39;t come up with a working C implementation. Stay tuned!</p>



</div>
<footer>
  <hr>
  <p>&copy; 2019 Dave Perrett</p>
</footer>
</body>
</html>



